<div>
  <div class="application">
    <button mat-stroked-button class="table__createButton" (click)="openDialog()">
      Создать
    </button>
  </div>
  <div class="mat-elevation-z8">
    <table mat-table matSort class="table" [dataSource]="dataSource">
      <ng-container matColumnDef="appNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>№ заявки</th>
        <td mat-cell *matCellDef="let row" (click)="openUserDialog(row)">{{row.appNumber}}</td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Исполнители</th>
        <td mat-cell *matCellDef="let row" (click)="openUserDialog(row)">{{row.name}}</td>
      </ng-container>

      <ng-container matColumnDef="company">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Компания и номер договора</th>
        <td mat-cell *matCellDef="let row" (click)="openUserDialog(row)">
          {{row.company}}<br>
          <span class="table__contract">
            {{row.numberOfContract}}
          </span>
        </td>
      </ng-container>

      <ng-container matColumnDef="analysis">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Вид анализа</th>
        <td mat-cell *matCellDef="let row" (click)="openUserDialog(row)">{{row.analysis}}</td>
      </ng-container>

      <ng-container matColumnDef="registrationDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Дата регистрации</th>
        <td mat-cell *matCellDef="let row" (click)="openUserDialog(row)">{{row.registrationDate | date}}</td>
      </ng-container>

      <ng-container matColumnDef="completionDate">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Дата планового завершения</th>
        <td mat-cell *matCellDef="let row" (click)="openUserDialog(row)">{{row.completionDate | date}}</td>
      </ng-container>

      <ng-container matColumnDef="laboratory">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Лаборатория</th>
        <td mat-cell *matCellDef="let row" (click)="openUserDialog(row)">{{row.laboratory}}</td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Статус</th>
        <td mat-cell *matCellDef="let row" (click)="openUserDialog(row)">{{row.status}}</td>
      </ng-container>

      <ng-container matColumnDef="report">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Отчет/Протокол</th>
        <td mat-cell *matCellDef="let row">
          <div *ngFor="let i of buttons" class="table__report">
            <button class="table__buttons">{{i.btn}}</button>
          </div>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator #paginator
                   [length]="dataSource?.data.length"
                   [pageIndex]="0"
                   [pageSize]="5"
                   [pageSizeOptions]="[5, 10, 15]">
    </mat-paginator>
  </div>
</div>
